{"ast":null,"code":"import { openDB } from 'idb';\nexport const openDatabase = async () => {\n  const dbPromise = openDB.open('myDatabase', 1, upgradeDb => {\n    const objectStore = upgradeDb.createObjectStore('users', {\n      keyPath: 'username'\n    });\n    objectStore.createIndex('username', 'username', {\n      unique: true\n    });\n  });\n  async function registerUser(username, password) {\n    await dbPromise.then(db => {\n      const tx = db.transaction('users', 'readwrite');\n      const store = tx.objectStore('users');\n      store.add({\n        username,\n        password\n      });\n      return tx.complete;\n    });\n  }\n  async function loginUser(username, password) {\n    return dbPromise.then(db => {\n      const tx = db.transaction('users', 'readonly');\n      const store = tx.objectStore('users');\n      const user = store.get(username);\n      return user.then(user => {\n        if (user && user.password === password) {\n          return true; // Successful login\n        } else {\n          return false; // Invalid credentials\n        }\n      });\n    });\n  }\n};","map":{"version":3,"names":["openDB","openDatabase","dbPromise","open","upgradeDb","objectStore","createObjectStore","keyPath","createIndex","unique","registerUser","username","password","then","db","tx","transaction","store","add","complete","loginUser","user","get"],"sources":["C:/Users/Hjayb/OneDrive/Desktop/MyClass/Fall2024/InPersonClassess/CMSC355_FundamentalsSoftwareEngineer/Sprint2/healthcare_app/src/API/db.js"],"sourcesContent":["import { openDB } from 'idb';\r\n\r\nexport const openDatabase = async () => {\r\nconst dbPromise = openDB.open('myDatabase', 1, (upgradeDb) => {\r\n    const objectStore = upgradeDb.createObjectStore('users', { keyPath: 'username' });\r\n    objectStore.createIndex('username', 'username', { unique: true });\r\n  });\r\n  \r\n  async function registerUser(username, password) {\r\n    await dbPromise.then(db => {\r\n      const tx = db.transaction('users', 'readwrite');\r\n      const store = tx.objectStore('users');\r\n      store.add({ username, password });\r\n      return tx.complete;\r\n    });\r\n  }\r\n  \r\n  async function loginUser(username, password) {\r\n    return dbPromise.then(db => {\r\n      const tx = db.transaction('users', 'readonly');\r\n      const store = tx.objectStore('users');\r\n      const user = store.get(username);\r\n      return user.then(user => {\r\n        if (user && user.password === password) {\r\n          return true; // Successful login\r\n        } else {\r\n          return false; // Invalid credentials\r\n        }\r\n      });\r\n    });\r\n  }\r\n}"],"mappings":"AAAA,SAASA,MAAM,QAAQ,KAAK;AAE5B,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EACxC,MAAMC,SAAS,GAAGF,MAAM,CAACG,IAAI,CAAC,YAAY,EAAE,CAAC,EAAGC,SAAS,IAAK;IAC1D,MAAMC,WAAW,GAAGD,SAAS,CAACE,iBAAiB,CAAC,OAAO,EAAE;MAAEC,OAAO,EAAE;IAAW,CAAC,CAAC;IACjFF,WAAW,CAACG,WAAW,CAAC,UAAU,EAAE,UAAU,EAAE;MAAEC,MAAM,EAAE;IAAK,CAAC,CAAC;EACnE,CAAC,CAAC;EAEF,eAAeC,YAAYA,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAC9C,MAAMV,SAAS,CAACW,IAAI,CAACC,EAAE,IAAI;MACzB,MAAMC,EAAE,GAAGD,EAAE,CAACE,WAAW,CAAC,OAAO,EAAE,WAAW,CAAC;MAC/C,MAAMC,KAAK,GAAGF,EAAE,CAACV,WAAW,CAAC,OAAO,CAAC;MACrCY,KAAK,CAACC,GAAG,CAAC;QAAEP,QAAQ;QAAEC;MAAS,CAAC,CAAC;MACjC,OAAOG,EAAE,CAACI,QAAQ;IACpB,CAAC,CAAC;EACJ;EAEA,eAAeC,SAASA,CAACT,QAAQ,EAAEC,QAAQ,EAAE;IAC3C,OAAOV,SAAS,CAACW,IAAI,CAACC,EAAE,IAAI;MAC1B,MAAMC,EAAE,GAAGD,EAAE,CAACE,WAAW,CAAC,OAAO,EAAE,UAAU,CAAC;MAC9C,MAAMC,KAAK,GAAGF,EAAE,CAACV,WAAW,CAAC,OAAO,CAAC;MACrC,MAAMgB,IAAI,GAAGJ,KAAK,CAACK,GAAG,CAACX,QAAQ,CAAC;MAChC,OAAOU,IAAI,CAACR,IAAI,CAACQ,IAAI,IAAI;QACvB,IAAIA,IAAI,IAAIA,IAAI,CAACT,QAAQ,KAAKA,QAAQ,EAAE;UACtC,OAAO,IAAI,CAAC,CAAC;QACf,CAAC,MAAM;UACL,OAAO,KAAK,CAAC,CAAC;QAChB;MACF,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}